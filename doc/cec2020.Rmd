---
title: "CEC 2020 results"
output:
    pdf_document:
        toc: true
        toc_depth: 4
---

## Benchmark & algorithms setup 

* $N = 10,\; 20$
* $\lambda$ = 4 * N
* $\sigma_0$ = 1
* `max_restarts` = 100
* budget: 
    *  $N = 10 \implies 200000$
    *  $N = 20 \implies 1000000$
* $x_{0} = \texttt{runif}(N, -100, 100)$ 

### Stop conditions:

```
Maximal number of function evaluations reached.
```

### Restart triggers:

```
- Standard deviation below tolerance in all coordinates.
- Condition number of covariance matrix exceeds 1e14
- Covariance matrix is not numerically positive definite.
- Addition of 0.1 times sigma does not change mean value.
- Addition of 0.2 times sigma in any coordinate does not change mean value.
```


## Results

```{r}
library(cecb)
library(tidyverse)

knitr::opts_chunk$set(fig.width=12, fig.height=10) 

"%+%" <- function(str1, str2) {
  paste0(str1, str2)
}
prefix = "../data/"

csa = list(
    basic = prefix %+% "csa/ipop-cma-es-csa-basic",
    rot = prefix %+% "csa/ipop-cma-es-csa-rot",
    shift = prefix %+% "csa/ipop-cma-es-csa-shift",
    bias = prefix %+% "csa/ipop-cma-es-csa-bias",
    bias_shift_rot = prefix %+% "csa/ipop-cma-es-csa-bias-shift-rot",
#    shift_rot = prefix %+% "csa/ipop-cma-es-csa-shift-rot",
#    bias_rot = prefix %+% "csa/ipop-cma-es-csa-bias-rot",
    bias_shift = prefix %+% "csa/ipop-cma-es-csa-bias-shift"
)
ppmf = list(
    basic = prefix %+% "ppmf/ipop-cma-es-ppmf-basic",
    rot = prefix %+% "ppmf/ipop-cma-es-ppmf-rot",
    shift = prefix %+% "ppmf/ipop-cma-es-ppmf-shift",
    bias = prefix %+% "ppmf/ipop-cma-es-ppmf-bias",
    bias_shift_rot = prefix %+% "ppmf/ipop-cma-es-ppmf-bias-shift-rot",
#    shift_rot = prefix %+% "ppmf/ipop-cma-es-ppmf-shift-rot",
#    bias_rot = prefix %+% "ppmf/ipop-cma-es-ppmf-bias-rot",
    bias_shift = prefix %+% "ppmf/ipop-cma-es-ppmf-bias-shift"
)
config = list(dim = 10, problems = 1:10, repetitions = 30)

```

### 1. Basic

#### ECDF curves

```{r}
cecb::cec_class_grid(c(csa$basic, ppmf$basic), 10, 21, 30)

#cecb::cec_problem_grid(c(csa$basic, ppmf$basic), 21, config)

```

#### CEC's tables

```{r}
#TODO
```

### 2. Rot

#### ECDF curves

```{r}

cecb::cec_class_grid(c(csa$rot, ppmf$rot), 10, 21, 30)

#cecb::cec_problem_grid(c(csa$rot, ppmf$rot), 21, config)

```

#### CEC's tables

```{r}
#TODO
```

### 3. Shift

#### ECDF curves

```{r}

cecb::cec_class_grid(c(csa$shift, ppmf$shift), 10, 21, 30)

#cecb::cec_problem_grid(c(csa$shift, ppmf$shift), 21, config)

```

#### CEC's tables

```{r}
#TODO
```

### 4. Bias

#### ECDF curves

```{r}
cecb::cec_class_grid(c(csa$bias, ppmf$bias), 10, 21, 30)

cecb::cec_problem_grid(c(csa$bias, ppmf$bias), 21, config)
```

#### CEC's tables

```{r}
#TODO
```

### 5. Bias-shift-rot

#### ECDF curves

```{r}
cecb::cec_class_grid(c(csa$bias_shift_rot, ppmf$bias_shift_rot), 10, 21, 30)

cecb::cec_problem_grid(c(csa$bias_shift_rot, ppmf$bias_shift_rot), 21, config)

```

#### CEC's tables

```{r}
#TODO
```

### 6. Shift-rot

#### ECDF curves

```{r}
#In progres....
```

#### CEC's tables

```{r}
#In progres....
```

### 7. Bias-shift

#### ECDF curves

```{r}
cecb::cec_class_grid(c(csa$bias_sfhit, ppmf$bias_shift), 10, 21, 30)

cecb::cec_problem_grid(c(csa$bias_shift, ppmf$bias_shift), 21, config)
```

#### CEC's tables

```{r}
#TODO
```

### 8. Bias-rot

#### ECDF curves

```{r}
#In progres...
```

#### CEC's tables

```{r}
#In progres...
```
